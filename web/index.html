<!DOCTYPE html>
<html>
<head>
	<!-- mm_web -->
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  	<meta charset="utf-8">
	<title>ROS_BRIDGE</title>
  	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  
  	<!-- Styles -->
	<link rel="stylesheet" href="font-awesome-4.3.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" href="css/main.css">
	<link rel="stylesheet" href="css/starter-template.css">
   
   	<!-- jQuery UI-->
	<link rel="stylesheet" href="jquery-ui-1.11.4/jquery-ui.css">
	<!------------------------------------------------------------------------------>
</head>

<body class="">
<div class="container">
	<!--Direction_Panel-->
	<div id="directionPanel" class="col-md-4"  style="border:3px #4fd7f4 double">
		<table width="100%" height="100%" cellpadding="0" cellspacing="0">
		<tr height="10%">
			<td width="20%"><a id="direction_up" class="control"><i class="fa fa fa-angle-double-up  fa-3x"></i></a></td>
			<td width="20%">&nbsp;</td>
			<td width="20%"><a id="direction_down" class="control"><i class="fa fa fa-angle-double-down fa-3x"></i></a></td>
		</tr>
		<tr height="10%">
			<td width="20%">&nbsp;</td>
			<td width="20%"><a id="direction_front" class="control"><i class="fa fa-arrow-up  fa-3x"></i></a></td>
			<td width="20%">&nbsp;</td>
		</tr>
		<tr height="10%">
			<td width="20%"><a id="direction_left" class="control"><i class="fa fa-arrow-left fa-3x"></i></a></td>
			<td width="20%">&nbsp;</td>
			<td width="20%"><a id="direction_right" class="control"><i class="fa fa-arrow-right fa-3x"></i></a></td>
		</tr>
		<tr height="10%">
			<td width="20%">&nbsp;</td>
			<td width="20%"><a id="direction_back" class="control"><i class="fa fa-arrow-down fa-3x"></i></a></td>
			<td width="20%">&nbsp;</td>
		</tr>
		<tr height="10%">
			<td width="20%"><a id="direction_Rup" class="control"><i class="fa fa fa-angle-double-left  fa-3x"></i></a></td>
			<td width="20%">&nbsp;</td>
			<td width="20%"><a id="direction_Rdown" class="control"><i class="fa fa fa-angle-double-right fa-3x"></i></a></td>
		</tr>
		<tr height="10%">
			<td width="20%">&nbsp;</td>
			<td width="20%"><a id="direction_Rup" class="control"><i class="fa fa-arrow-up  fa-3x"></i></a></td>
			<td width="20%">&nbsp;</td>
		</tr>
		<tr height="10%">
			<td width="20%"><a id="direction_Rleft" class="control"><i class="fa fa-arrow-left fa-3x"></i></a></td>
			<td width="20%">&nbsp;</td>
			<td width="20%"><a id="direction_Rright" class="control"><i class="fa fa-arrow-right fa-3x"></i></a></td>
		</tr>
		<tr height="20%">
			<td width="20%">&nbsp;</td>
			<td width="20%"><a id="direction_Rback" class="control"><i class="fa fa-arrow-down fa-3x"></i></a></td>
			<td width="20%">&nbsp;</td>
		</tr>
		</table>
	</div>
	<div class="col-md-1"></div>
	<div class="col-md-5" border="2px">
		<img src="img/ur5_img.png" style="border:6px #c0fff4 double" width="400px" height="400px"></img>
	</div>
	<!--ROS_Output-->
	<div class="col-md-3">
	<div class="panel panel-info" style="height:400px">
		<!-- Default panel contents -->
		<div class="panel-heading">
			<a class="control"><i class="fa fa-pencil-square-o fa-2x" data-toggle="modal" data-target="#setting_Dialog"></i></a>
			<strong style="font-size:16px">&nbsp;&nbsp;EEF_Info</strong>
		</div>
		<!-- Table -->
		<table class="table" width="100%" height="70%">
			<tbody>
			<tr>
				<td width="40%">X</td>
				<td width="40%"><h4 id="output_lx" style="color:red"></td>
				<td width="10%"><a class="control"><i class="fa fa-plus-circle fa-2x"></i></a></td>
				<td width="10%"><a class="control"><i class="fa fa-minus-circle fa-2x"></i></a></td>
			</tr>
			<tr>
				<td>Y</td>
				<td><h4 id="output_ly" style="color:red"></td>
				<td><a class="control"><i class="fa fa-plus-circle fa-2x"></i></a></td>
				<td><a class="control"><i class="fa fa-minus-circle fa-2x"></i></a></td>
			</tr>
			<tr>
				<td>Z</td>
				<td><h4 id="output_lz" style="color:red"></td>
				<td><a class="control"><i class="fa fa-plus-circle fa-2x"></i></a></td>
				<td><a class="control"><i class="fa fa-minus-circle fa-2x"></i></a></td>
			</tr>
			<tr>
				<td>RX</td>
				<td><h4 id="output_ax" style="color:red"></td>
				<td><a class="control"><i class="fa fa-plus-circle fa-2x"></i></a></td>
				<td><a class="control"><i class="fa fa-minus-circle fa-2x"></i></a></td>
			</tr>
			<tr>
				<td>RY</td>
				<td><h4 id="output_ay" style="color:red"></td>
				<td><a class="control"><i class="fa fa-plus-circle fa-2x"></i></a></td>
				<td><a class="control"><i class="fa fa-minus-circle fa-2x"></i></a></td>
			</tr>
			<tr>
				<td>RZ</td>
				<td><h4 id="output_az" style="color:red"></td>
				<td><a class="control"><i class="fa fa-plus-circle fa-2x"></i></a></td>
				<td><a class="control"><i class="fa fa-minus-circle fa-2x"></i></a></td>
			</tr>
			</tbody>
		</table>
		<div class="panel-footer" height="10%">
		<button id="control_send_home" type="button" class="btn btn-info" style="width:200px"><i class="fa fa-home fa-2x"></i></button></td>		</div>
	</div>
	</div>
	<div class="row"></div>
	<HR color="#00FF00" size="20px">
	<!--IO_Input-->
	<div class="col-md-2" padding-right="10px">
		<table width="100%" height="100%" border="1px">
		<thead>
		<th colspan="2" width="40%">IO_Input</th>
		</thead>
		<tbody>
		<tr>
			<td width="20%" rowspan="2"><a id="control_io" class="control"><i class="fa fa-magnet fa-2x"></i></a></td>
			<td width="20%" rowspan="2" style="color:red" id="output_io">Off</td>
		</tr>
		</tbody>
		</table>
	</div>
	<div class="col-md-4"></div>
	<div class="col-md-6">
	<div class="panel panel-info" style="width:600px height:180px">
		<div class="panel-heading" height="30%">
			<a class="control"><i class="fa fa-pencil-square-o fa-2x" data-toggle="modal" data-target="#setting_Dialog"></i></a>
			<strong style="font-size:20px">&nbsp;&nbsp;Joint_Info</strong>
		</div>
		<table class="table" width="100%" height="70%">
			<tbody>
			<tr height="15%">
				<td width="20%" style="text-align:center"><strong>Base</strong></td>
				<td width="10%"><a class="control"><i class="fa fa-caret-left fa-3x"></i></a></td>
				<td width="60%" class="progress">
					<div id="progress-bar_j1" class="progress-bar" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="360">
					<h4 id="output_j1p"></h4></div>
				</td>
				<td width="10%" align="right"><a class="control"><i class="fa fa-caret-right fa-3x"></i></a></td>
			</tr>
			<tr height="15%">
				<td style="text-align:center"><strong>Shoulder</strong></td>
				<td><a class="control"><i class="fa fa-caret-left fa-3x"></i></a></td>
				<td class="progress">
					<div id="progress-bar_j2" class="progress-bar" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="360">
					<h4 id="output_j2p"></h4></div>
				</td>
				<td align="right"><a class="control"><i class="fa fa-caret-right fa-3x"></i></a></td>
			</tr>
			<tr height="15%">
				<td style="text-align:center"><strong>Elbow</strong></td>
				<td><a class="control"><i class="fa fa-caret-left fa-3x"></i></a></td>
				<td class="progress">
					<div id="progress-bar_j3" class="progress-bar" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="360">
					<h4 id="output_j3p"></h4></div>
				</td>
				<td align="right"><a class="control"><i class="fa fa-caret-right fa-3x"></i></a></td>
			</tr>
			<tr height="15%">
				<td style="text-align:center"><strong>Wrist1</strong></td>
				<td><a class="control"><i class="fa fa-caret-left fa-3x"></i></a></td>
				<td class="progress">
					<div id="progress-bar_j4" class="progress-bar" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="360">
					<h4 id="output_j4p"></h4></div>
				</td>
				<td align="right"><a class="control"><i class="fa fa-caret-right fa-3x"></i></a></td>
			</tr>
			<tr height="15%">
				<td style="text-align:center"><strong>Wrist2</strong></td>
				<td><a class="control"><i class="fa fa-caret-left fa-3x"></i></a></td>
				<td class="progress">
					<div id="progress-bar_j5" class="progress-bar" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="360">
					<h4 id="output_j5p"></h4></div>
				</td>
				<td align="right"><a class="control"><i class="fa fa-caret-right fa-3x"></i></a></td>
			</tr>
			<tr height="15%">
				<td style="text-align:center"><strong>Wrist3</strong></td>
				<td><a class="control"><i class="fa fa-caret-left fa-3x"></i></a></td>
				<td class="progress">
					<div id="progress-bar_j6" class="progress-bar" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="360">
					<h4 id="output_j6p"></h4></div>
				</td>
				<td align="right"><a class="control"><i class="fa fa-caret-right fa-3x"></i></a></td>
			</tr>
			</tbody>
		</table>
	</div>
	<!--Infomation panel-->
	<div class="row"></div>
	<div id="infoPanel" class="ui-widget-content">
		<div id="panelTop">Information</div>
		<div id="infoContent" class="panelContent"></div>
	</div>
	<!-- Dialog -->
	<div class="modal fade" id="setting_Dialog" role="dialog">
		<div class="modal-dialog">
		<!--content-->
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">&times;</button>
				<h4>Dialog Setting</h4>
			</div>
			<div class="modal-body">
				<table id="table_test">
				<tbody>
				<tr height="15%">
					<td>Base</td>
					<td><input type="text" class="form-control" id="input_j1_d"data-fv-field="number"></td>
					<td>X</td>
					<td><input type="text" class="form-control" id="input_lx_d"data-fv-field="number"></td>
				</tr>
				<tr height="15%">
					<td>Shoulder</td>
					<td><input class="form-control input-sm" id="input_j2_d" type="text"></td>
					<td>Y</td>
					<td><input class="form-control input-sm" id="input_ly_d" type="text"></td>
				</tr>
				<tr height="15%">
					<td>Elbow</td>
					<td><input class="form-control input-sm" id="input_j3_d" type="text"></td>
					<td>Z</td>
					<td><input class="form-control input-sm" id="input_lz_d" type="text"></td>
				</tr>
				<tr height="15%">
					<td>Wrist1</td>
					<td><input class="form-control input-sm" id="input_j4_d" type="text"></td>
					<td>RX</td>
					<td><input class="form-control input-sm" id="input_ax_d" type="text"></td>
				</tr>
				<tr height="15%">
					<td>Wrist2</td>
					<td><input class="form-control input-sm" id="input_j5_d" type="text"></td>
					<td>RY</td>
					<td><input class="form-control input-sm" id="input_ay_d" type="text"></td>
				</tr>
				<tr height="15%">
					<td>Wrist3</td>
					<td><input class="form-control input-sm" id="input_j6_d" type="text"></td>
					<td>RZ</td>
					<td><input class="form-control input-sm" id="input_az_d" type="text"></td>
				</tr>
				<tr height="10%">
					<td>Send</td>
					<td><a id="control_send_joint_d" class="control"><i class="fa fa-paper-plane  fa-2x"></i></a></td>
					<td>Send</td>
					<td><a id="control_send_eef_d" class="control"><i class="fa fa-paper-plane  fa-2x"></i></a></td>
				</tr>
				</tbody>
				</table>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
	<!-- /container -->
</div>
<!-- Javascript
================================================== -->
<script type="text/javascript" src="http://cdn.robotwebtools.org/EventEmitter2/current/eventemitter2.min.js"></script>
<script type="text/javascript" src="http://cdn.robotwebtools.org/roslibjs/current/roslib.min.js"></script>
<!-- Placed at the end of the document so the pages load faster -->
<script src="js/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/jquery.navgoco.js"></script>
<script src="js/main.js"></script>

<script src="jquery-ui-1.11.4/external/jquery/jquery.js"></script>
<script src="jquery-ui-1.11.4/jquery-ui.js"></script>

<script type="text/javascript" type="text/javascript">
// Connecting to ROS
// -----------------

var ros = new ROSLIB.Ros({
	url : 'ws://localhost:9090'
});

ros.on('connection', function() {
	console.log('Connected to websocket server.');
});

ros.on('error', function(error) {
	console.log('Error connecting to websocket server: ', error);
});

ros.on('close', function() {
	console.log('Connection to websocket server closed.');
});
// The ActionClient
// ----------------
var teachModeClient = new ROSLIB.ActionClient({
	ros : ros,
	serverName : '/teach_mode_server',
	actionName : 'strategy/TeachCommandListAction'
});
// Subscribing to a Topic
// ----------------------
var joint_Sub = new ROSLIB.Topic({
	ros:ros,
	name: '/joint_states',
	messageType : 'sensor_msgs/JointState'
});
var eef_Sub = new ROSLIB.Topic({
	ros:ros,
	name: '/eef_states',
	messageType : 'geometry_msgs/Twist'
});

function saveBtn(){
	console.log("save Btn click");
}

$(document).ready(function(){
	var mlist = [];
	var io_default = false;
	var mouseStillDown = false;

	$("#infoPanel").draggable();
	//Detect mouse still down
	$('#direction_front').mousedown(function(e){
		mouseStillDown = true;
		doSomething();
	});
	var temp=1;
	function doSomething(){
		if (!mouseStillDown) {return;}
		else if (mouseStillDown) {
			console.log(temp++);
			setInterval(doSomething, 1000);
		}
	}
	$('#direction_front').mouseup(function(e){
		mouseStillDown = false;
		clearInterval(doSomething);
		temp=1;
	});
	//ROS_Bridge
	$('#control_send_joint').on('click',function(e){
		var float64 = new Float64Array(6);
		float64[0] = $('#input_j1').val()*(Math.PI/180);
		float64[1] = $('#input_j2').val()*(Math.PI/180);
		float64[2] = $('#input_j3').val()*(Math.PI/180);
		float64[3] = $('#input_j4').val()*(Math.PI/180);
		float64[4] = $('#input_j5').val()*(Math.PI/180);
		float64[5] = $('#input_j6').val()*(Math.PI/180);
		var send_joint = new ROSLIB.Message({
			cmd : 'JointPosition',
			joint_position : [float64[0],float64[1],float64[2],
					  float64[3],float64[4],float64[5]]
		});
		mlist.push(send_joint);
		// Create a goal.
		var goal = new ROSLIB.Goal({
			actionClient : teachModeClient,
			goalMessage : {
				cmd_list : mlist
			}
		});
		// Print out their output into the terminal.
		goal.on('feedback', function(feedback) {
			console.log('Feedback: ' + feedback.status);
		});
		goal.on('result', function(result) {
			console.log('Final Result: ' + result.notify);
		});
		// Send the goal to the action server.
		$("#infoContent").html('Goal was send cmdlist'
					+'<BR>Cmd : ' + send_joint.cmd
					+"<BR>Joint Position : [ "+ send_joint.joint_position+" ]"
		);
		goal.send();
		mlist = [];
	});
	//Dialog
	$('#control_send_joint_d').on('click',function(e){
		var float64 = new Float64Array(6);
		float64[0] = $('#input_j1_d').val()*(Math.PI/180);
		float64[1] = $('#input_j2_d').val()*(Math.PI/180);
		float64[2] = $('#input_j3_d').val()*(Math.PI/180);
		float64[3] = $('#input_j4_d').val()*(Math.PI/180);
		float64[4] = $('#input_j5_d').val()*(Math.PI/180);
		float64[5] = $('#input_j6_d').val()*(Math.PI/180);
		var send_joint = new ROSLIB.Message({
			cmd : 'JointPosition',
			joint_position : [float64[0],float64[1],float64[2],
					  float64[3],float64[4],float64[5]]
		});
		mlist.push(send_joint);
		// Create a goal.
		var goal = new ROSLIB.Goal({
			actionClient : teachModeClient,
			goalMessage : {
				cmd_list : mlist
			}
		});
		// Print out their output into the terminal.
		goal.on('feedback', function(feedback) {
			console.log('Feedback: ' + feedback.status);
		});
		goal.on('result', function(result) {
			console.log('Final Result: ' + result.notify);
		});
		// Send the goal to the action server.
		$("#infoContent").html('Goal was send cmdlist'
					+'<BR>Cmd : ' + send_joint.cmd
					+"<BR>Joint Position : [ "+ send_joint.joint_position+" ]"
		);
		goal.send();
		mlist = [];
	});
	$('#control_send_eef').on('click',function(e){
		var float64 = new Float64Array(6);
		float64[0] = $('#input_lx').val();
		float64[1] = $('#input_ly').val();
		float64[2] = $('#input_lz').val();
		float64[3] = $('#input_ax').val();
		float64[4] = $('#input_ay').val();
		float64[5] = $('#input_az').val();
		var twist = new ROSLIB.Message({
			linear : {
			x : float64[0],
			y : float64[1],
			z : float64[2]
			},
			angular : {
			x : float64[3],
			y : float64[4],
			z : float64[5]
			}
		});
		var send_eef = new ROSLIB.Message({
			cmd : 'EEFPosition',
			pose : twist
		});
		mlist.push(send_eef);
		var goal = new ROSLIB.Goal({
			actionClient : teachModeClient,
			goalMessage : {
				cmd_list : mlist
			}
		});
		goal.on('feedback', function(feedback) {
			console.log('Feedback: ' + feedback.status);
		});
		goal.on('result', function(result) {
			console.log('Final Result: ' + result.notify);
		});
		$("#infoContent").html('Goal was send cmdlist'
					+'<BR>Cmd : ' + send_eef.cmd
					+'<BR>Vaccum : '+ send_eef.vaccum
					+"<BR>Pose : "
					+"<BR>linear:<BR>"+ send_eef.pose.linear.x
					+"<BR>"+ send_eef.pose.linear.y
					+"<BR>"+ send_eef.pose.linear.z
					+"<BR>angular<BR>"+ send_eef.pose.angular.x
					+"<BR>"+ send_eef.pose.angular.y
					+"<BR>"+ send_eef.pose.angular.z
		);
		goal.send();
		mlist = [];
	});
	//Dialog
	$('#control_send_eef_d').on('click',function(e){
		//console.log(('#table_test').children("tr:nth-child(1)").children("td:nth-child(1)").html('X'));
		var float64 = new Float64Array(6);
		float64[0] = $('#input_lx_d').val();
		float64[1] = $('#input_ly_d').val();
		float64[2] = $('#input_lz_d').val();
		float64[3] = $('#input_ax_d').val();
		float64[4] = $('#input_ay_d').val();
		float64[5] = $('#input_az_d').val();
		var twist = new ROSLIB.Message({
			linear : {
			x : float64[0],
			y : float64[1],
			z : float64[2]
			},
			angular : {
			x : float64[3],
			y : float64[4],
			z : float64[5]
			}
		});
		var send_eef = new ROSLIB.Message({
			cmd : 'EEFPosition',
			pose : twist
		});
		mlist.push(send_eef);
		var goal = new ROSLIB.Goal({
			actionClient : teachModeClient,
			goalMessage : {
				cmd_list : mlist
			}
		});
		goal.on('feedback', function(feedback) {
			console.log('Feedback: ' + feedback.status);
		});
		goal.on('result', function(result) {
			console.log('Final Result: ' + result.notify);
		});
		$("#infoContent").html('Goal was send cmdlist'
					+'<BR>Cmd : ' + send_eef.cmd
					+'<BR>Vaccum : '+ send_eef.vaccum
					+"<BR>Pose : "
					+"<BR>linear:<BR>"+ send_eef.pose.linear.x
					+"<BR>"+ send_eef.pose.linear.y
					+"<BR>"+ send_eef.pose.linear.z
					+"<BR>angular<BR>"+ send_eef.pose.angular.x
					+"<BR>"+ send_eef.pose.angular.y
					+"<BR>"+ send_eef.pose.angular.z
		);
		goal.send();
		mlist = [];
	});
	$('#control_io').on('click',function(e){
		if(io_default===false){
			io_default=true;
			$("#output_io").html('On');
			var send_io = new ROSLIB.Message({
				cmd : 'Vaccum',
				vaccum : true
			});
			mlist.push(send_io);
		}else{
			io_default=false;
			$("#output_io").html('Off');
			var send_io = new ROSLIB.Message({
				cmd : 'Vaccum',
				vaccum : false
			});
			mlist.push(send_io);
		}
		var goal = new ROSLIB.Goal({
			actionClient : teachModeClient,
			goalMessage : {
				cmd_list : mlist
			}
		});
		goal.on('feedback', function(feedback) {
			console.log('Feedback: ' + feedback.status);
		});
		goal.on('result', function(result) {
			console.log('Final Result: ' + result.notify);
		});
		$("#infoContent").html('Goal was send cmdlist'
					+'<BR>Cmd : ' + send_io.cmd
					+'<BR>Vaccum : '+ send_io.vaccum
		);
		goal.send();
		mlist = [];
	});
	$('#control_send_home').on('click',function(e){
		var float64 = new Float64Array(6);
		float64[0] = 0;
		float64[1] = -1.5708;
		float64[2] = 0;
		float64[3] = -1.5708;
		float64[4] = 0;
		float64[5] = 0;
		var send_joint = new ROSLIB.Message({
			cmd : 'JointPosition',
			joint_position : [float64[0],float64[1],float64[2],
					  float64[3],float64[4],float64[5]]
		});
		mlist.push(send_joint);
		// Create a goal.
		var goal = new ROSLIB.Goal({
			actionClient : teachModeClient,
			goalMessage : {
				cmd_list : mlist
			}
		});
		// Print out their output into the terminal.
		goal.on('feedback', function(feedback) {
			console.log('Feedback: ' + feedback.status);
		});
		goal.on('result', function(result) {
			console.log('Final Result: ' + result.notify);
		});
		// Send the goal to the action server.
		$("#infoContent").html('Goal was send cmdlist'
					+'<BR>Cmd : ' + send_joint.cmd
					+"<BR>Joint Position : [ "+ send_joint.joint_position+" ]"
		);
		goal.send();
		mlist = [];
	});
	//Topic_Subscribe
	joint_Sub.subscribe(function(message){
		$("#output_j1").html(((message.position[0]/Math.PI)*180).toFixed(2));
		$("#output_j2").html(((message.position[1]/Math.PI)*180).toFixed(2));
		$("#output_j3").html(((message.position[2]/Math.PI)*180).toFixed(2));
		$("#output_j4").html(((message.position[3]/Math.PI)*180).toFixed(2));
		$("#output_j5").html(((message.position[4]/Math.PI)*180).toFixed(2));
		$("#output_j6").html(((message.position[5]/Math.PI)*180).toFixed(2));
		//Show Progress-bar
//		$("#progress-bar_j1").css({'width':'20%'});
		document.getElementById('progress-bar_j1').style.width = ((((message.position[0]/Math.PI)*180)+360)/720)*100+'%';
		document.getElementById('progress-bar_j2').style.width = ((((message.position[1]/Math.PI)*180)+360)/720)*100+'%';
		document.getElementById('progress-bar_j3').style.width = ((((message.position[2]/Math.PI)*180)+360)/720)*100+'%';
		document.getElementById('progress-bar_j4').style.width = ((((message.position[3]/Math.PI)*180)+360)/720)*100+'%';
		document.getElementById('progress-bar_j5').style.width = ((((message.position[4]/Math.PI)*180)+360)/720)*100+'%';
		document.getElementById('progress-bar_j6').style.width = ((((message.position[5]/Math.PI)*180)+360)/720)*100+'%';
		$("#output_j1p").html(((message.position[0]/Math.PI)*180).toFixed(2));
		$("#output_j2p").html(((message.position[1]/Math.PI)*180).toFixed(2));
		$("#output_j3p").html(((message.position[2]/Math.PI)*180).toFixed(2));
		$("#output_j4p").html(((message.position[3]/Math.PI)*180).toFixed(2));
		$("#output_j5p").html(((message.position[4]/Math.PI)*180).toFixed(2));
		$("#output_j6p").html(((message.position[5]/Math.PI)*180).toFixed(2));
	});
	eef_Sub.subscribe(function(message){
		$("#output_lx").html(message.linear.x);
		$("#output_ly").html(message.linear.y);
		$("#output_lz").html(message.linear.z);
		$("#output_ax").html(message.angular.x);
		$("#output_ay").html(message.angular.y);
		$("#output_az").html(message.angular.z);
	});
});
	</script>
</body>
</html>
